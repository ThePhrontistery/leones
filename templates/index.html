{% extends "base.html" %}

{% block content %}
  <div class="w-full h-full flex flex-col justify-center items-center">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 w-full max-w-7xl h-[70vh]">
      <!-- Panel de carga de documentos -->
      <section class="bg-slate-50 rounded-2xl p-6 shadow-lg border border-slate-200 flex flex-col min-h-[400px] h-full">
        <h3 class="font-semibold text-xl text-blue-700 mb-4">Carga de documentos</h3>
        <div id="panel-upload" class="flex flex-col items-stretch gap-2 text-slate-400">
          <div class="flex flex-row gap-2 mb-2 justify-start">
            <button type="button" onclick="window.open('/api/document/upload', '_blank', 'width=500,height=600')" class="bg-blue-700 text-white px-2 py-1 text-xs rounded hover:bg-blue-800 transition">Abrir carga de documento</button>
            <button type="button" hx-post="/api/document/clear" hx-target="#document-list" hx-swap="innerHTML" class="bg-red-600 text-white px-2 py-1 text-xs rounded hover:bg-red-700 transition">Borrar todos</button>
          </div>
          <div id="upload-result" class="mt-2"></div>
          <div id="document-list" hx-get="/api/document/list" hx-trigger="load,documentUploaded from:body" hx-swap="innerHTML" class="mt-2"></div>
        </div>
      </section>
      <!-- Árbol de contenidos -->
      <section class="bg-slate-50 rounded-2xl p-6 shadow-lg border border-slate-200 flex flex-col min-h-[400px] h-full">
        <h3 class="font-semibold text-xl text-blue-700 mb-4">Árbol de contenidos</h3>
        <div id="panel-tree" class="flex-1 flex items-center justify-center text-slate-400">
          <!-- Aquí irá el árbol de índices/enlaces -->
          <span>Pendiente de implementación</span>
        </div>
      </section>
      <!-- Análisis funcional: Editor Markdown -->
      <section class="bg-slate-50 rounded-2xl p-6 shadow-lg border border-slate-200 flex flex-col min-h-[400px] h-full">
        <h3 class="font-semibold text-xl text-blue-700 mb-4">Análisis funcional (Markdown)</h3>
        <div id="panel-markdown" class="flex-1 flex items-center justify-center text-slate-400">
          <!-- Aquí irá el editor Markdown y vista previa -->
          <span>Pendiente de implementación</span>
        </div>
      </section>
      <!-- Chat lateral con IA -->
      <section class="bg-slate-50 rounded-2xl p-6 shadow-lg border border-slate-200 flex flex-col min-h-[400px] h-full">
        <h3 class="font-semibold text-xl text-blue-700 mb-4">Chat IA (Agent)</h3>
        <div id="panel-chat" class="flex-1 flex items-center justify-center text-slate-400">
          <!-- Aquí irá el chat con IA -->
          <span>Pendiente de implementación</span>
        </div>
      </section>
    </div>
  </div>
{% endblock %}
